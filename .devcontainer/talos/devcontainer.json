{
  "name": "talos",
  "image": "ghcr.io/nifr/talos:latest",
  "overrideCommand": true,
  "runArgs": [
    "--hostname=talos",
    "--privileged"
  ],
  "features": {
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest"
    },
    "./features/talosctl": {
      "version": "1.11.0"
    }
  },
  "mounts": [
    {
      "type": "bind",
      "source": "${localWorkspaceFolder}/.devcontainer/.secrets/GH_TOKEN",
      "target": "/run/secrets/GH_TOKEN"
    }
  ],
  "secrets": {
    "GH_TOKEN": {
      "description": "(required) Personal Access Token (PAT), used by GitHub CLI \"gh\"",
      "documentationUrl": "https://github.com/settings/tokens"
    }
  },
  "customizations": {
    "codespaces": {
      "repositories": {
        "nifr/*": {
          "permissions": {
            "contents": "write",
            "workflows": "write",
            "packages": "read",
            "actions": "write"
          }
        }
      }
    }
  }
}